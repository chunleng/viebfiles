" Custom
set search=https://www.google.com/search?q=%s
set followchars="custom:aoeuidhtns"
set splitbelow
set splitright
set followelement="url,onclick,inputs-insert,inputs-click"
set followelementpointer="media,image,other"
set guifontsize=12
set noshowcmd
set suspendtimeout=3600000
    " 1 hour

" Mappings
nnoremap <space>bh <:lclose>
nnoremap <space>bl <:rclose>
nnoremap <tab> <:b #>
nnoremap <c-h> <toLeftSplitWindow>
noremap <c-m-h> <toLeftSplitWindow>
nnoremap <c-l> <toRightSplitWindow>
noremap <c-m-l> <toRightSplitWindow>
nnoremap <c-j> <toBottomSplitWindow>
noremap <c-m-j> <toBottomSplitWindow>
nnoremap <c-k> <toTopSplitWindow>
noremap <c-m-k> <toTopSplitWindow>
nnoremap <s-left> <:vsplit #><exchangeSplitWindow><toLeftSplitWindow>
nnoremap <s-right> <:vsplit #>
nnoremap <s-down> <:split #><exchangeSplitWindow><toTopSplitWindow>
nnoremap <s-up> <:split #>

" Make scrollable even in insert mode
inoremap <c-d> <scrollPageDownHalf>
inoremap <c-u> <scrollPageUpHalf>

nnoremap gp <:pin>
nnoremap gt <toCommandMode>b<space>

noremap <m-q> <:quitall>
nnoremap <space>x <:hide>
nnoremap <c-x> <:close>
noremap <m-w> <:close>

noremap <m-c-p> <previousTab>
noremap <m-c-n> <nextTab>

noremap <m-l> <toExploreMode>
nnoremap o <toExploreMode>
noremap <m-t> <:tabnew><toExploreMode>
noremap <m-r> <refreshTab>
nnoremap t <:tabnew><toExploreMode>

nnoremap <m-c> <p.copyText>

nnoremap + <zoomIn>
nnoremap - <zoomOut>
nnoremap = <zoomReset>

pnoremap <up> <p.scrollUp>
pnoremap <down> <p.scrollDown>
pnoremap <right> <p.scrollRight>
pnoremap <left> <p.scrollLeft>

set permissioncamera=ask
set permissionmicrophone=ask
set permissionmediadevices=allow
set permissioncertificateerror=ask
set permissionclipboardread=ask
set permissiondisplaycapture=ask
" set permissiongeolocation=ask
set permissionhid=allow
set permissionnotifications=ask

set dialogalert=show
set dialogprompt=show
set dialogconfirm=show

set devtoolsposition=vsplit
nnoremap <space>d <:devtools>
noremap <c-space> <toCommandMode>b<space>

nnoremap <c-z> <:%suspend>

" Commands
colorscheme custom

" TODO github codeview page problem
" 1. in insert mode press "l"
" 2. press <esc>
" 3. the popup does not disappear

" Viebrc generated by Vieb
" vim: ft=vim
